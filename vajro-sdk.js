!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.VajroSDK=o():e.VajroSDK=o()}(window,(()=>(()=>{"use strict";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{actions:()=>j,helpers:()=>t,initialize:()=>l,isSDKReady:()=>s,listeners:()=>I,triggers:()=>r,variables:()=>i});var r={};e.r(r),e.d(r,{customerUpdated:()=>g,onCartUpdated:()=>f,onPageLoaded:()=>y});var t={};e.r(t),e.d(t,{helpers:()=>_});var n={};e.r(n),e.d(n,{addToCart:()=>C,applyDiscount:()=>M,disableCheckoutButton:()=>U,enableCheckoutButton:()=>D,getLocalStorage:()=>B,openAuthentication:()=>A,openCart:()=>R,openCollection:()=>m,openCustomBlock:()=>E,openInAppBrowser:()=>N,openLandingPage:()=>O,openProduct:()=>P,openUrl:()=>w,removeFromCart:()=>L,resizeBlock:()=>F,setLocalStorage:()=>x,showAlert:()=>S,showToast:()=>b,updateLineItemQuantity:()=>V});const i={},a=e=>{console.log("üîÑ Updating appContext with:",e),Object.keys(e).forEach((o=>{"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?i[o]=e[o]:i[o]=Object.assign(Object.assign({},i[o]),e[o])})),console.log("‚úÖ Updated VajroSDK.variables:",i)};let c=!1;const l=(e={})=>{e&&0!==Object.keys(e).length?a(e):console.warn("‚ö†Ô∏è No app context provided. Waiting for WebView updates..."),c=!0},s=()=>c,d={},u=(e,o)=>{console.log(`üöÄ Dispatching event: ${e}`,o),a(o),d[e]?d[e].forEach((r=>{try{r(o)}catch(o){console.error(`‚ùå Error executing listener for ${e}:`,o)}})):console.log(`‚ö†Ô∏è No subscribers found for event: ${e}`)},p={ON_PAGE_LOADED:"onPageLoaded",ON_CART_UPDATED:"onCartUpdated",ON_CUSTOMER_UPDATED:"onCustomerUpdated",ON_LOGIN_STATUS_CHANGED:"onLoginStatusChanged",ON_CHECKOUT_BUTTON_CLICKED:"onCheckoutButtonClicked",ON_CHECKOUT_COMPLETED:"onCheckoutCompleted"},y=e=>{console.log("üöÄ ON_PAGE_LOADED Triggered:",e),u(p.ON_PAGE_LOADED,e)},f=e=>{console.log("üöÄ ON_CART_UPDATED Triggered:",e),u(p.ON_CART_UPDATED,e)},g=e=>{console.log("üöÄ ON_CUSTOMER_UPDATED Triggered:",e),u(p.ON_CUSTOMER_UPDATED,e)},I={};var h;Object.values(p).forEach((e=>{I[e]=o=>((e,o)=>{d[e]||(d[e]=[]),d[e].push(o),console.log(`‚úÖ Subscribed to event: ${e}`),console.log("üîç Current Event Listeners:",d)})(e,o)})),function(e){e.GET_PRODUCTS="getProducts",e.GET_PRODUCT="getProduct"}(h||(h={}));const _={getProducts:e=>{return o=void 0,r=void 0,n=function*(){try{(e=>{if("object"!=typeof e||null===e)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Payload must be a valid object."};const{collectionHandle:o,collectionId:r,count:t}=e;if(!o&&!r)throw{errorCode:400,errorType:"ERROR_MISSING_COLLECTION_INFO",errorMessage:"Either 'collectionHandle' or 'collectionId' must be provided."};if(o&&"string"!=typeof o)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"'collectionHandle' must be a string."};if(r&&"string"!=typeof r)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"'collectionId' must be a string."};if(void 0!==t&&("number"!=typeof t||t<=0))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"'count' must be a positive number if provided."}})(e);const o=yield((e,o)=>{return r=void 0,t=void 0,i=function*(){var r;if(!(null===(r=window.flutter_inappwebview)||void 0===r?void 0:r.callHandler))throw{errorCode:503,errorType:"ERROR_FLUTTER_ENGINE_NOT_AVAILABLE",errorMessage:"Flutter engine is not available."};try{const r=yield window.flutter_inappwebview.callHandler(e,o);if(null==r?void 0:r.errorCode)throw r;return r}catch(e){throw console.error("‚ùå WebView communication error:",e),{errorCode:502,errorType:"ERROR_WEBVIEW_FAILURE",errorMessage:"Failed to communicate with Flutter WebView."}}},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,c)}l((i=i.apply(r,t||[])).next())}));var r,t,n,i})(h.GET_PRODUCTS,e);return o}catch(e){throw console.error("‚ùå Error in getProducts:",e),e}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n}};var T;!function(e){e.OPEN_PRODUCT="openProduct",e.OPEN_COLLECTION="openCollection",e.OPEN_CART="openCart",e.OPEN_CUSTOM_BLOCK="openCustomBlock",e.OPEN_LANDING_PAGE="openLandingPage",e.OPEN_URL="openUrl",e.OPEN_IN_APP_BROWSER="openInAppBrowser",e.OPEN_AUTHENTICATION="openAuthentication",e.ADD_TO_CART="addToCart",e.REMOVE_FROM_CART="removeFromCart",e.UPDATE_LINE_ITEM_QUANTITY="updateLineItemQuantity",e.APPLY_DISCOUNT="applyDiscount",e.ENABLE_CHECKOUT_BUTTON="enableCheckoutButton",e.DISABLE_CHECKOUT_BUTTON="disableCheckoutButton",e.SHOW_TOAST="showToast",e.SHOW_ALERT="showAlert",e.SET_LOCAL_STORAGE="setLocalStorage",e.GET_LOCAL_STORAGE="getLocalStorage",e.RESIZE_BLOCK="resizeBlock"}(T||(T={}));const v=(e,o)=>(console.log(`üöÄ Dispatching Action: ${e}`,o),new Promise(((r,t)=>{if(!window.flutter_inappwebview||"function"!=typeof window.flutter_inappwebview.callHandler)return console.error("‚ùå Flutter engine is not available."),t({errorCode:503,errorType:"ERROR_FLUTTER_ENGINE_NOT_AVAILABLE",errorMessage:"Flutter engine is not available. Ensure the app is running inside a Flutter WebView."});window.flutter_inappwebview.callHandler(e,o).then((o=>{(null==o?void 0:o.errorCode)?(console.error(`‚ùå Server Error from Flutter: ${o.errorMessage}`,o),t(o)):(console.log(`‚úÖ Action successfully dispatched: ${e}`),r(o))})).catch((e=>{console.error("‚ùå WebView Communication Error:",e),t({errorCode:502,errorType:"ERROR_WEBVIEW_FAILURE",errorMessage:"Failed to communicate with Flutter WebView."})}))})));const P=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üìÇ Validating OpenProduct Payload..."),(e=>{if(!e.productId&&!e.productHandle)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Missing required fields: productId or productHandle."};if(void 0!==e.productId&&("string"!=typeof e.productId||""===e.productId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid productId. It must be a non-empty string."};if(e.productHandle&&("string"!=typeof e.productHandle||""===e.productHandle.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid productHandle. It must be a non-empty string."};if(e.variantId&&("string"!=typeof e.variantId||""===e.variantId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid variantId. It must be a non-empty string."}})(e),console.log("üìÇ Dispatching OpenProduct Action..."),yield v(T.OPEN_PRODUCT,e),console.log("‚úÖ Product Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open product:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const m=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üìÇ Validating OpenCollection Payload..."),(e=>{if(!e.collectionHandle&&!e.collectionId)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:'Either "collectionHandle or collectionId must be provided.'};if(e.collectionId&&("string"!=typeof e.collectionId||""===e.collectionId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"collectionId must be a non-empty string."};if(e.collectionHandle&&("string"!=typeof e.collectionHandle||""===e.collectionHandle.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"collectionHandle must be a non-empty string."}})(e),console.log("üìÇ Dispatching OpenCollection Action..."),yield v(T.OPEN_COLLECTION,e),console.log("‚úÖ Collection Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open collection:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const R=()=>{return e=void 0,o=void 0,t=function*(){try{console.log("üõí Dispatching OpenCart Action..."),yield v(T.OPEN_CART,null),console.log("‚úÖ Cart Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open cart:",e),Promise.reject(e)}},new((r=void 0)||(r=Promise))((function(n,i){function a(e){try{l(t.next(e))}catch(e){i(e)}}function c(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var o;e.done?n(e.value):(o=e.value,o instanceof r?o:new r((function(e){e(o)}))).then(a,c)}l((t=t.apply(e,o||[])).next())}));var e,o,r,t};const E=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating OpenCustomBlock Payload..."),(e=>{if(!e.id)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Custom block id must be provided."};if(e.id&&("string"!=typeof e.id||""===e.id.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Custom Block Id must be a non-empty string."}})(e),console.log("üõ†Ô∏è Dispatching OpenCustomBlock Action..."),yield v(T.OPEN_CUSTOM_BLOCK,e),console.log("‚úÖ Custom Block Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open custom block:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const O=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating OpenLandingPage Payload..."),(e=>{if(!e.id)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Page Id must be provided."};if(e.id&&("string"!=typeof e.id||""===e.id.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid Page Id. It must be a non-empty string."}})(e),console.log("üõ†Ô∏è Dispatching OpenLandingPage Action..."),yield v(T.OPEN_CUSTOM_BLOCK,e),console.log("‚úÖ Landing Page Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open landing page:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const w=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating OpenUrl Payload..."),(e=>{if(!e.path)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Path must be provided."};if(e.path&&("string"!=typeof e.path||""===e.path.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid path. It must be a non-empty string."}})(e),console.log("üõ†Ô∏è Dispatching OpenUrl Action..."),yield v(T.OPEN_URL,e),console.log("‚úÖ Url Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open url:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const N=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating OpenInAppBrowser Payload..."),(e=>{if(!e.path)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Path must be provided."};if(e.path&&("string"!=typeof e.path||""===e.path.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid path. It must be a non-empty string."}})(e),console.log("üõ†Ô∏è Dispatching OpenInAppBrowser Action..."),yield v(T.OPEN_IN_APP_BROWSER,e),console.log("‚úÖ InAppBrowser Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open InAppBrowser:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const A=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating OpenAuthentication Payload..."),(e=>{if(!e.type&&!e.type)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Authentication type must be provided"};if(e.type&&("string"!=typeof e.type||!["LOGIN","SIGNUP"].includes(e.type.trim())))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid authenticate type. It must be a non-empty string: 'LOGIN' or 'SIGNUP' only."}})(e),console.log("üõ†Ô∏è Dispatching OpenAuthentication Action..."),yield v(T.OPEN_AUTHENTICATION,e),console.log("‚úÖ Authentication Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open Authentication",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const C=e=>{return o=void 0,r=void 0,n=function*(){return new Promise(((o,r)=>{try{(e=>{if(!Array.isArray(e)||0===e.length)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Payload must be a non-empty array of items."};e.forEach(((e,o)=>{if(!e.variantId)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:`Item ${o+1}: Please provide variantID.`};if(!e.quantity)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:`Item ${o+1}: Please provide quantity.`};if(e.variantId&&("string"!=typeof e.variantId||""===e.variantId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:`Item ${o+1}: Invalid variantId. It must be a non-empty string.`};if(e.quantity&&("number"!=typeof e.quantity||e.quantity<=0))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:`Item ${o+1}: Invalid quantity. It must be a positive number.`};if(e.sellingPlanId&&("string"!=typeof e.sellingPlanId||""===e.sellingPlanId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:`Item ${o+1}: Invalid sellingPlanId. It must be a string if provided.`}}))})(e),v(T.ADD_TO_CART,e),o()}catch(e){console.error("Failed to add to cart:",e),r(e)}}))},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const L=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating RemoveFromCart Payload..."),(e=>{if(!Array.isArray(e)||0===e.length)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Payload must be a non-empty array of product IDs."};e.forEach(((e,o)=>{if("string"!=typeof e||""===e.trim())throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:`Item ${o+1}: Invalid product ID. It must be a non-empty string.`}}))})(e),console.log("üöÄ Dispatching RemoveFromCart Action..."),yield v(T.REMOVE_FROM_CART,e),console.log("‚úÖ Items Removed from Cart Successfully!")}catch(e){return console.error("‚ùå Failed to remove items from cart:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const D=()=>{return e=void 0,o=void 0,t=function*(){try{console.log("üõí Dispatching EnableheckoutButton Action..."),yield v(T.ENABLE_CHECKOUT_BUTTON,null),console.log("‚úÖ Checkout Button Enabled Successfully!")}catch(e){return console.error("‚ùå Failed to enable checkout button:",e),Promise.reject(e)}},new((r=void 0)||(r=Promise))((function(n,i){function a(e){try{l(t.next(e))}catch(e){i(e)}}function c(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var o;e.done?n(e.value):(o=e.value,o instanceof r?o:new r((function(e){e(o)}))).then(a,c)}l((t=t.apply(e,o||[])).next())}));var e,o,r,t};const U=()=>{return e=void 0,o=void 0,t=function*(){try{console.log("üõí Dispatching DisableCheckoutButton Action..."),yield v(T.DISABLE_CHECKOUT_BUTTON,null),console.log("‚úÖ Checkout Button Disabled Successfully!")}catch(e){return console.error("‚ùå Failed to disable checkout button:",e),Promise.reject(e)}},new((r=void 0)||(r=Promise))((function(n,i){function a(e){try{l(t.next(e))}catch(e){i(e)}}function c(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var o;e.done?n(e.value):(o=e.value,o instanceof r?o:new r((function(e){e(o)}))).then(a,c)}l((t=t.apply(e,o||[])).next())}));var e,o,r,t};const b=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating ShowToast Payload..."),(e=>{if(!e.title)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Toast title should be provided."};if(!e.message)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Toast message should be provided."};if(e.title&&("string"!=typeof e.title||""===e.title.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Toast title should be a non empty string."};if(e.message&&("string"!=typeof e.message||""===e.message.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Toast message should be a non empty string."}})(e),console.log("üõ†Ô∏è Dispatching ShowToast Action..."),yield v(T.SHOW_TOAST,e),console.log("‚úÖToast Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open toast:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const S=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating ShowAlert Payload..."),(e=>{if(!e.title)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Alert title should be provided."};if(!e.message)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Alert message should be provided."};if(e.title&&("string"!=typeof e.title||""===e.title.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Alert title should be a non empty string."};if(e.message&&("string"!=typeof e.message||""===e.message.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Alert message should be a non empty string."}})(e),console.log("üõ†Ô∏è Dispatching ShowAlert Action..."),yield v(T.SHOW_ALERT,e),console.log("Alert Opened Successfully!")}catch(e){return console.error("‚ùå Failed to open alert:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const V=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating UpdateLineItemQuantity Payload..."),(e=>{if(!e.lineItemId)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Missing required field: lineItemId."};if(!e.quantity)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Missing required field: quantity."};if(e.lineItemId&&("string"!=typeof e.lineItemId||""===e.lineItemId.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid lineItemId. It must be a non-empty string."};if(e.quantity&&("number"!=typeof e.quantity||e.quantity<=0))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid quantity. It must be a positive number."}})(e),console.log("üöÄ Dispatching UpdateLineItemQuantity Action..."),yield v(T.UPDATE_LINE_ITEM_QUANTITY,e),console.log("‚úÖ Line Item Quantity Updated Successfully!")}catch(e){return console.error("‚ùå Failed to update line item quantity:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const M=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating ApplyDiscount Payload..."),(e=>{if(!Array.isArray(e)||0===e.length)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Payload must be a non-empty array of discount codes."};e.forEach(((e,o)=>{if("string"!=typeof e||""===e.trim())throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:`Discount code at index ${o+1} must be a non-empty string.`}}))})(e),console.log("üöÄ Dispatching ApplyDiscount Action..."),yield v(T.APPLY_DISCOUNT,e),console.log("‚úÖ Discount/s Applied Successfully!")}catch(e){return console.error("‚ùå Failed to apply discount:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const x=(e,o)=>{return r=void 0,t=void 0,i=function*(){try{console.log("üõ†Ô∏è Validating SetLocalStorage Payload..."),((e,o)=>{if(!e)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Please provide a key"};if(e&&("string"!=typeof e||""===e.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid key. It must be a non-empty string."};if(null==o)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid value. It cannot be null or undefined."}})(e,o),console.log("üöÄ Dispatching SetLocalStorage Action..."),yield v(T.SET_LOCAL_STORAGE,{key:e,value:o}),console.log(`‚úÖ Local Storage Set Successfully: { ${e}: ${o} }`)}catch(e){return console.error("‚ùå Failed to set local storage:",e),Promise.reject(e)}},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,c)}l((i=i.apply(r,t||[])).next())}));var r,t,n,i};const B=e=>{return o=void 0,r=void 0,n=function*(){try{console.log("üõ†Ô∏è Validating GetLocalStorage Payload..."),(e=>{if(!e)throw{errorCode:400,errorType:"ERROR_INVALID_INPUT",errorMessage:"Please provide a key"};if(e&&("string"!=typeof e||""===e.trim()))throw{errorCode:400,errorType:"ERROR_INVALID_INPUT_TYPE",errorMessage:"Invalid key. It must be a non-empty string."}})(e),console.log("üöÄ Dispatching GetLocalStorage Action...");const o=yield v(T.GET_LOCAL_STORAGE,e);return console.log(`‚úÖ Retrieved from Local Storage: { ${e}: ${o} }`),o}catch(e){return console.error("‚ùå Failed to get local storage:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n};const F=(...e)=>{return o=void 0,r=[...e],n=function*(e=null){try{const o=e?document.querySelector(e):document.body;o||console.warn("‚ö†Ô∏è Content element not found. Using document height.");const r=o?o.getBoundingClientRect().height:document.documentElement.scrollHeight;console.log("üöÄ resizeBlock action with height:",r),yield v(T.RESIZE_BLOCK,{height:r}),console.log("‚úÖ resizeBlock dispatched successfully!")}catch(e){return console.error("‚ùå Failed to dispatch resizeBlock:",e),Promise.reject(e)}},new((t=void 0)||(t=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(o){var r;o.done?e(o.value):(r=o.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((n=n.apply(o,r||[])).next())}));var o,r,t,n},j=new Proxy(n,{get(e,o){if(!(o in e)){const e={errorCode:501,errorType:"ERROR_NOT_IMPLEMENTED",errorMessage:`This action '${o}' is not yet implemented`};return console.error("‚ùå Error:",e),()=>Promise.reject(e)}return e[o]}});return o})()));

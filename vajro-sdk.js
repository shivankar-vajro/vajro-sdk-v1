!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VajroSDK=e():o.VajroSDK=e()}(self,(()=>(()=>{"use strict";var o={403:(o,e)=>{var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,function(o){o.OPEN_PRODUCT="openProduct",o.OPEN_COLLECTION="openCollection",o.OPEN_CART="openCart",o.OPEN_CUSTOM_BLOCK="openCustomBlock"}(t||(e.ActionTypes=t={}))},867:(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.openCustomBlock=e.openCart=e.openCollection=e.openProduct=void 0;var n=t(403),r=t(798),i=t(216);e.openProduct=function(o){return new Promise((function(e,t){try{(0,i.validateOpenProductPayload)(o),(0,r.dispatchAction)(n.ActionTypes.OPEN_PRODUCT,o).then(e).catch(t)}catch(o){console.error("Validation failed:",o),t(o)}}))},e.openCollection=function(o){return new Promise((function(e,t){try{(0,i.validateOpenCollectionPayload)(o),(0,r.dispatchAction)(n.ActionTypes.OPEN_COLLECTION,o),e()}catch(o){console.error("Failed to open collection:",o),t(o)}}))},e.openCart=function(){return new Promise((function(o,e){try{(0,r.dispatchAction)(n.ActionTypes.OPEN_CART,null),o()}catch(o){console.error("Failed to open collection:",o),e(o)}}))},e.openCustomBlock=function(o){return new Promise((function(e,t){try{(0,i.validateOpenCustomBlockPayload)(o),(0,r.dispatchAction)(n.ActionTypes.OPEN_CUSTOM_BLOCK,o).then(e).catch(t)}catch(o){console.error("Validation failed:",o),t(o)}}))}},798:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dispatchAction=void 0,e.dispatchAction=function(o,e){return console.log("Dispatching action: ".concat(o),e),new Promise((function(t,n){window.flutter_inappwebview&&"function"==typeof window.flutter_inappwebview.callHandler?window.flutter_inappwebview.callHandler(o,e).then((function(){console.log("Action dispatched successfully: ".concat(o)),t()})).catch((function(e){console.error("Failed to dispatch action: ".concat(o),e),n(e)})):(console.error("Flutter engine is not available."),n(new Error("Flutter engine is not available.")))}))}},216:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateOpenCustomBlockPayload=e.validateOpenCollectionPayload=e.validateOpenProductPayload=void 0,e.validateOpenProductPayload=function(o){if(!o.productId&&!o.productHandle)throw new Error("Either productId or productHandle must be provided.");if(o.productId&&"string"!=typeof o.productId)throw new Error("Invalid productId. It must be a non-empty string.");if(o.productHandle&&"string"!=typeof o.productHandle)throw new Error("Invalid productHandle. It must be a non-empty string.");if(o.variantId&&"string"!=typeof o.variantId)throw new Error("Invalid variantId. It must be a string.");if(o.variantHandle&&"string"!=typeof o.variantHandle)throw new Error("Invalid variantHandle. It must be a string.");if(void 0===o.openInNewPage)o.openInNewPage=!0;else if("boolean"!=typeof o.openInNewPage)throw new Error("Invalid openInNewPage. It must be a boolean.")},e.validateOpenCollectionPayload=function(o){if(!o.collectionHandle&&!o.collectionId)throw new Error('Either "collectionHandle" or "collectionId" must be provided.');if(o.collectionHandle&&"string"!=typeof o.collectionHandle)throw new Error('"collectionHandle" must be a string.');if(o.collectionId&&"string"!=typeof o.collectionId)throw new Error('"collectionId" must be a string.')},e.validateOpenCustomBlockPayload=function(o){if(!o.id||"string"!=typeof o.id||""===o.id.trim())throw new Error('Invalid "id". It must be a non-empty string.');if(!o.type||"string"!=typeof o.type||""===o.type.trim())throw new Error('Invalid "type". It must be a non-empty string.')}}},e={};function t(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return o[n](i,i.exports,t),i.exports}var n={};return(()=>{var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.actions=void 0;var e=t(867);o.actions={openProduct:e.openProduct,openCollection:e.openCollection,openCart:e.openCart,openCustomBlock:e.openCustomBlock}})(),n})()));
